@mixin wds-avatar-size($size: $wds-default-avatar-size) {
	$badge-size: (0.2539 * $size) + 8px;
	$badge-left: -$badge-size / 3.5;
	$badge-top: -$badge-size / 2.5;

	--wds-avatar-size: #{$size};
	--wds-avatar-border-width: 2px;
	--wds-avatar-badge-size: #{$badge-size};
	--wds-avatar-badge-left: #{$badge-left};
	--wds-avatar-badge-top: #{$badge-top};

	@if($size >= 48px) {
		--wds-avatar-border-width: 3px;
		--wds-avatar-badge-left: #{$badge-left / 4.5};
		--wds-avatar-badge-top: #{$badge-top / 3.5};
	}

	@if($size >= 120px) {
		--wds-avatar-border-width: 4px;
	}
}

@mixin wds-avatar-theming($border-color, $hover-color, $bg-color) {
	--wds-avatar-border-color: #{$border-color};
	--wds-avatar-border-color--hover: #{$hover-color};
	--wds-avatar-background-color: #{$bg-color};
}

.wds-avatar {
	@include wds-avatar-size();
	@include wds-avatar-theming(
		var(--theme-border-color),
		var(--theme-link-color),
		var(--theme-page-background-color)
	);

	display: inline-block;
	position: relative;

	@include square(var(--wds-avatar-size));

	a {
		color: var(--wds-avatar-border-color);
		height: 100%;
		width: 100%;

		&:hover {
			color: var(--wds-avatar-border-color--hover);
		}
	}

	&__image {
		@include square(100%);

		border-radius: 50%;
		box-sizing: border-box;
		background-color: var(--wds-avatar-background-color);
		color: var(--wds-avatar-border-color);
		display: inline-block;
		fill: currentColor;
		transition: border-color $wds-button-transition-duration, color $wds-button-transition-duration;

		&:hover {
			color: var(--wds-avatar-border-color--hover);
		}
	}

	img.wds-avatar__image {
		border: solid var(--wds-avatar-border-width) currentColor;
	}

	&__badge {
		@include square(var(--wds-avatar-badge-size));

		left: var(--wds-avatar-badge-left);
		line-height: 0;
		position: absolute;
		top: var(--wds-avatar-badge-top);

		svg {
			@include square(100%);
		}
	}
}
